<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Introducing ZFS Properties - Solaris ZFS Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris ZFS Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gamnq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gazsu.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="zfsover-1.html">1.&nbsp;&nbsp;Solaris ZFS File System (Introduction)</a></p>
<p class="toc level1 tocsp"><a href="setup-1.html">2.&nbsp;&nbsp;Getting Started With ZFS</a></p>
<p class="toc level1 tocsp"><a href="gbcik.html">3.&nbsp;&nbsp;ZFS and Traditional File System Differences</a></p>
<p class="toc level1 tocsp"><a href="gavwn.html">4.&nbsp;&nbsp;Managing ZFS Storage Pools</a></p>
<p class="toc level1 tocsp"><a href="gavwq.html">5.&nbsp;&nbsp;Managing ZFS File Systems</a></p>
<p class="toc level2"><a href="gamnq.html">Creating and Destroying ZFS File Systems</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Introducing ZFS Properties</a></p>
</div>
<p class="toc level2"><a href="gazsu.html">Querying ZFS File System Information</a></p>
<p class="toc level2"><a href="gayns.html">Managing ZFS Properties</a></p>
<p class="toc level2"><a href="gaynd.html">Mounting and Sharing ZFS File Systems</a></p>
<p class="toc level2"><a href="gazvb.html">ZFS Quotas and Reservations</a></p>
<p class="toc level1 tocsp"><a href="gavvx.html">6.&nbsp;&nbsp;Working With ZFS Snapshots and Clones</a></p>
<p class="toc level1 tocsp"><a href="ftyxi.html">7.&nbsp;&nbsp;Using ACLs to Protect ZFS Files</a></p>
<p class="toc level1 tocsp"><a href="gbchv.html">8.&nbsp;&nbsp;ZFS Delegated Administration</a></p>
<p class="toc level1 tocsp"><a href="ftyxh.html">9.&nbsp;&nbsp;ZFS Advanced Topics</a></p>
<p class="toc level1 tocsp"><a href="gavwg.html">10.&nbsp;&nbsp;ZFS Troubleshooting and Data Recovery</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gazss"></a><h3>Introducing ZFS Properties</h3>
<p>Properties are the main mechanism that you use to control the behavior of
file systems, volumes, snapshots, and clones. Unless stated otherwise, the properties defined in
the section apply to all the dataset types.<a name="indexterm-265"></a><a name="indexterm-266"></a></p>
<ul><li><p><a href="#gazsy">ZFS Read-Only Native Properties</a></p></li>
<li><p><a href="#gazsd">Settable ZFS Native Properties</a></p></li>
<li><p><a href="#gdrcw">ZFS User Properties</a></p></li></ul>
<p>Properties are divided into two types, native properties and user defined properties. Native
properties either export internal statistics or control ZFS file system behavior. In addition,
native properties are either settable or read-only. User properties have no effect on
ZFS file system behavior, but you can use them to annotate datasets in
a way that is meaningful in your environment. For more information on user
properties, see <a href="#gdrcw">ZFS User Properties</a>.</p><p>Most settable properties are also inheritable. An inheritable property is a property that,
when set on a parent, is propagated down to all of its descendents.</p><p>All inheritable properties have an associated source. The source indicates how a property
was obtained. The source of a property can have the following values:<a name="indexterm-267"></a><a name="indexterm-268"></a></p><dl><dt><tt>local</tt></dt>
<dd><p>A <tt>local</tt> source indicates that the property was explicitly set on the dataset by using the <tt>zfs set</tt> command as described in <a href="gayns.html#gazsp">Setting ZFS Properties</a>.</p></dd>
<dt><tt>inherited from</tt> <i>dataset-name</i></dt>
<dd><p>A value of <tt>inherited from</tt> <i>dataset-name</i> means that the property was inherited from the named ancestor.</p></dd>
<dt><tt>default</tt></dt>
<dd><p>A value of <tt>default</tt> means that the property setting was not inherited or set locally. This source is a result of no ancestor having the property as source <tt>local</tt>.</p></dd>
</dl>
<p>The following table identifies both read-only and settable native ZFS file system properties.
Read-only native properties are identified as such. All other native properties listed in
this table are settable. For information about user properties, see <a href="#gdrcw">ZFS User Properties</a>.</p><a name="gcfgr"></a><h6>Table&nbsp;5-1 ZFS Native Property Descriptions</h6><table><col width="16.17*"><col width="11.73*"><col width="13.42*"><col width="58.65*"><tr><th align="left" valign="top" scope="column"><p>Property Name</p></th>
<th align="left" valign="top" scope="column"><p>Type</p></th>
<th align="left" valign="top" scope="column"><p>Default Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>aclinherit</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>secure</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls
how ACL entries are inherited when files and directories are created. The values
are <tt>discard</tt>, <tt>noallow</tt>, <tt>secure</tt>, and <tt>passthrough</tt>. For a description of these values, see
<a href="gbacb.html#gbaaz">ACL Property Modes</a>.<a name="indexterm-269"></a><a name="indexterm-270"></a><a name="indexterm-271"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>aclmode</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>groupmask</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls how an ACL entry is modified during a <tt>chmod</tt> operation. The values
are <tt>discard</tt>, <tt>groupmask</tt>, and <tt>passthrough</tt>. For a description of these values, see
<a href="gbacb.html#gbaaz">ACL Property Modes</a>.<a name="indexterm-272"></a><a name="indexterm-273"></a><a name="indexterm-274"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>atime</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the access time for files is updated when they are read.
Turning this property off avoids producing write traffic when reading files and can
result in significant performance gains, though it might confuse mailers and other similar
utilities.<a name="indexterm-275"></a><a name="indexterm-276"></a><a name="indexterm-277"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>available</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the amount of space available to the dataset and
all its children, assuming no other activity in the pool.  Because space
is shared within a pool, available space can be limited by various factors
including physical pool size, quotas, reservations, or other datasets within the pool.<a name="indexterm-278"></a><a name="indexterm-279"></a><a name="indexterm-280"></a></p><p>This property
can also be referenced by its shortened column name, <tt>avail</tt>.</p><p>For more information
about space accounting, see <a href="gbchp.html">ZFS Space Accounting</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>canmount</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>on</p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the given file system can be
mounted with the <tt>zfs</tt> <tt>mount</tt> command. This property can be set on
any file system and the property itself is not inheritable. However, when this property
is set, a mountpoint can be inherited to descendent file systems, but the
file system itself is never mounted. For more information, see <a href="#gdrcf">The <tt>canmount</tt> Property</a>.<a name="indexterm-281"></a><a name="indexterm-282"></a><a name="indexterm-283"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>casesensitivity</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>sensitive</tt></p></td>
<td align="left" valign="top" scope="row"><p>This property indicates
whether the file name matching algorithm used by the file system should be
<tt>casesensitive</tt>,<tt> caseinsensitive</tt>, or allow a combination of both styles of matching (<tt>mixed</tt>). The default value
for this property is <tt>sensitive</tt>. Traditionally, UNIX and  POSIX file systems have
case-sensitive file names.</p><p>The <tt>mixed</tt> value for this property indicates the file system
can support requests for both case-sensitive and case-insensitive matching behavior. Currently, case-insensitive matching behavior
on a file system that supports mixed behavior is limited to the Solaris
CIFS server product. For more information about using the <tt>mixed</tt> value, see <a href="#gftgr">The <tt>casesensitivity</tt> Property</a>.</p><p>Regardless
of the <tt>casesensitivity</tt> property setting, the file system preserves the case of
the name specified to create a  file. This property cannot be changed
after the file system is created.<a name="indexterm-284"></a><a name="indexterm-285"></a><a name="indexterm-286"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>checksum</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls the checksum used to verify data integrity.
The default value is <tt>on</tt>, which automatically selects an appropriate algorithm, currently <tt>fletcher2</tt>. The
values are <tt>on, off, fletcher2</tt>, <tt>fletcher4</tt>, and <tt>sha256</tt>. A value of <tt>off</tt> disables integrity checking
on user data. A value of <tt>off</tt> is not recommended.<a name="indexterm-287"></a><a name="indexterm-288"></a><a name="indexterm-289"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>compression</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>off</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls the compression algorithm
used for this dataset. Currently, you can select <tt>lzjb</tt>, <tt>gzip</tt>, or <tt>gzip-</tt><i>N</i>. Enabling
compression on a file system with existing data only compresses new data. Existing
data remains uncompressed.<a name="indexterm-290"></a><a name="indexterm-291"></a><a name="indexterm-292"></a></p><p>This property can also be referred to by its shortened
column name, <tt>compress</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>compressratio</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the compression ratio achieved for this dataset,
expressed as a multiplier. Compression can be turned on by running <tt>zfs set compression=on</tt>
<i>dataset</i>.<a name="indexterm-293"></a><a name="indexterm-294"></a><a name="indexterm-295"></a></p><p>Calculated from the logical size of all files and the amount of
referenced physical data. Includes explicit savings through the use of the <tt>compression</tt> property.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>copies</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>1</p></td>
<td align="left" valign="top" scope="row"><p>Sets
the number of copies of user data per file system. Available values are
1, 2 or 3. These copies are in addition to any pool-level
redundancy. Space used by multiple copies of user data is charged to the
corresponding file and dataset and counts against quotas and reservations. In addition, the <tt>used</tt>
property is updated when multiple copies are enabled. Consider setting this property when
the file system is created because changing this property on an existing file
system only affects newly written data.<a name="indexterm-296"></a><a name="indexterm-297"></a><a name="indexterm-298"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>creation</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the date and time
that this dataset was created.<a name="indexterm-299"></a><a name="indexterm-300"></a><a name="indexterm-301"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>devices</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls the ability to open device files in the
file system.<a name="indexterm-302"></a><a name="indexterm-303"></a><a name="indexterm-304"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>exec</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether programs within this file system are allowed to be executed.
Also, when set to <tt>off</tt>, <tt>mmap(2)</tt> calls with <tt>PROT_EXEC</tt> are disallowed.<a name="indexterm-305"></a><a name="indexterm-306"></a><a name="indexterm-307"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mounted</tt></p></td>
<td align="left" valign="top" scope="row"><p>boolean</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that
indicates whether this file system, clone, or snapshot is currently mounted. This property
does not apply to volumes. Value can be either yes or no.<a name="indexterm-308"></a><a name="indexterm-309"></a><a name="indexterm-310"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mountpoint</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Controls the
mount point used for this file system. When the <tt>mountpoint</tt> property is
changed for a file system, the file system and any children that inherit
the mount point are unmounted. If the new value is <tt>legacy</tt>, then
they remain unmounted. Otherwise, they are automatically remounted in the new location if
the property was previously <tt>legacy</tt> or <tt>none</tt>, or if they were mounted
before the property was changed. In addition, any shared file systems are unshared
and shared in the new location.<a name="indexterm-311"></a><a name="indexterm-312"></a><a name="indexterm-313"></a></p><p>For more information about using this property,
see <a href="gaynd.html#gaztn">Managing ZFS Mount Points</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nbmand</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>off</p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the file system should be mounted  with <tt>nbmand</tt>
 (Non-blocking  mandatory) locks. This property is for CIFS clients only. Changes to
this property only take effect when the file system is unmounted and remounted.
</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>normalization</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p>None</p></td>
<td align="left" valign="top" scope="row"><p>This property indicates whether a file system should perform a unicode  
normalization of file names whenever two file names are compared,  
and which normalization algorithm should be used. File names are   always
stored unmodified, names are normalized as part of any   comparison process.
If this property is set to a legal value other  than <tt>none</tt>,
and the <tt>utf8only</tt> property was left unspecified, the <tt>utf8only</tt> property is automatically set
to <tt>on</tt>. The default  value of the <tt>normalization</tt> property is <tt>none</tt>. This property
cannot be changed after the file system is created.   
 </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>origin</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property for cloned file systems or volumes that identifies the snapshot
from which the clone was created. The origin cannot be destroyed (even with
the <tt>-r</tt> or <tt>-f</tt> options) as long as a clone exists.</p><p>Non-cloned file systems
have an origin of none.<a name="indexterm-314"></a><a name="indexterm-315"></a><a name="indexterm-316"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>quota</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number (or <tt>none</tt>)</p></td>
<td align="left" valign="top" scope="row"><p><tt>none</tt></p></td>
<td align="left" valign="top" scope="row"><p>Limits the amount of space a
dataset and its descendents can consume. This property enforces a hard limit on
the amount of space used, including all space consumed by descendents, including file
systems and snapshots. Setting a quota on a descendent of a dataset that
already has a quota does not override the ancestor's quota, but rather imposes
an additional limit. Quotas cannot be set on volumes, as the <tt>volsize</tt> property
acts as an implicit quota.<a name="indexterm-317"></a><a name="indexterm-318"></a><a name="indexterm-319"></a></p><p>For information about setting quotas, see <a href="gazvb.html#gazud">Setting Quotas on ZFS File Systems</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>readonly</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>off</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether this
dataset can be modified. When set to <tt>on</tt>, no modifications can be made
to the dataset.<a name="indexterm-320"></a><a name="indexterm-321"></a><a name="indexterm-322"></a></p><p>This property can also be referred to by its shortened
column name, <tt>rdonly</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>recordsize</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p><tt>128K</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies a suggested block size for files in the file
system.<a name="indexterm-323"></a><a name="indexterm-324"></a><a name="indexterm-325"></a></p><p>This property can also be referred to by its shortened column name,
<tt>recsize</tt>. For a detailed description, see <a href="#gcfgv">The <tt>recordsize</tt> Property</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>referenced</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the amount
of data accessible by this dataset, which might or might not be shared
with other datasets in the pool.<a name="indexterm-326"></a><a name="indexterm-327"></a><a name="indexterm-328"></a></p><p>When a snapshot or clone is created, it
initially references the same amount of space as the file system or snapshot
it was created from, because its contents are identical.</p><p>This property can also be
referred to by its shortened column name, <tt>refer</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>refquota</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number (or none)</p></td>
<td align="left" valign="top" scope="row"><p>none</p></td>
<td align="left" valign="top" scope="row"><p>Sets the amount of space
that a dataset can consume. This property enforces a hard limit on the
amount of space used. This hard limit does not  include space used
 by descendents, such as snapshots and clones.<a name="indexterm-329"></a><a name="indexterm-330"></a><a name="indexterm-331"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>refreservation</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number (or none)</p></td>
<td align="left" valign="top" scope="row"><p><tt>none</tt></p></td>
<td align="left" valign="top" scope="row"><p>Sets the minimum amount of
space that is guaranteed to a dataset, not including descendents, such as snapshots
and clones. When the amount of space that is used is below this
value, the dataset is treated as if it were taking up the amount
of space specified  by <tt>refreservation</tt>. The   <tt>refreservation</tt> reservation is
accounted for in the parent datasets' space used, and  counts against the
parent datasets' quotas and  reservations.<a name="indexterm-332"></a><a name="indexterm-333"></a><a name="indexterm-334"></a></p><p>If <tt>refreservation</tt> is set, a snapshot is
only allowed if enough free pool space is available outside of this reservation
to accommodate the current number of <b>referenced</b> bytes in the dataset.</p><p>This property can
also be referred to by its shortened column name, <tt>refreserv</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>reservation</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number (or none)</p></td>
<td align="left" valign="top" scope="row"><p><tt>none</tt></p></td>
<td align="left" valign="top" scope="row"><p>The
minimum amount of space guaranteed to a dataset and its descendents. When the
amount of space used is below this value, the dataset is treated as
if it were using the amount of space specified by its reservation.
Reservations are accounted for in the parent datasets' space used, and count against
the parent datasets' quotas and reservations.<a name="indexterm-335"></a><a name="indexterm-336"></a><a name="indexterm-337"></a></p><p>This property can also be referred to by
its shortened column name, <tt>reserv</tt>.</p><p>For more information, see <a href="gazvb.html#gbdbb">Setting Reservations on ZFS File Systems</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>setuid</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the <tt>setuid</tt>
bit is honored in the file system.<a name="indexterm-338"></a><a name="indexterm-339"></a><a name="indexterm-340"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sharenfs</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>off</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the file system is available
over NFS, and what options are used.  If set to <tt>on</tt>, the
<tt>zfs share</tt> command is invoked with no options.  Otherwise, the <tt>zfs share</tt> command is invoked
with options equivalent to the contents of this property.  If set to
<tt>off</tt>, the file system is managed by using the legacy <tt>share</tt> and
<tt>unshare</tt> commands and the <tt>dfstab</tt> file.<a name="indexterm-341"></a><a name="indexterm-342"></a><a name="indexterm-343"></a></p><p>For more information on sharing ZFS file
systems, see <a href="gaynd.html#gamnd">Sharing and Unsharing ZFS File Systems</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sharesmb</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>off</p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the file system is shared by using the
Solaris CIFS service, and what options are to be used. A file system
with the  <tt>sharesmb</tt> property set to <tt>off</tt> is managed through traditional tools,
such as the <tt>sharemgr</tt> command. Otherwise, the file system is automatically shared and
unshared by using the <tt>zfs share</tt> and <tt>zfs unshare</tt> commands.</p><p>If the property is set
to <tt>on</tt>,  the <tt>sharemgr</tt> command  is invoked with no options. Otherwise,
the <tt>sharemgr</tt> command  is  invoked with options  that are equivalent
 to  the contents of this property.<a name="indexterm-344"></a><a name="indexterm-345"></a><a name="indexterm-346"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>snapdir</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p><tt>hidden</tt></p></td>
<td align="left" valign="top" scope="row"><p>Controls whether the <tt>.zfs</tt> directory
is hidden or visible in the root of the file system. For more
information on using snapshots, see <a href="gbciq.html">Overview of ZFS Snapshots</a>.<a name="indexterm-347"></a><a name="indexterm-348"></a><a name="indexterm-349"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>type</tt></p></td>
<td align="left" valign="top" scope="row"><p>String</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the dataset type as
<tt>filesystem</tt> (file system or clone), <tt>volume</tt>, or <tt>snapshot</tt>.<a name="indexterm-350"></a><a name="indexterm-351"></a><a name="indexterm-352"></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>used</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Read-only property that identifies the amount
of space consumed by the dataset and all its descendents.<a name="indexterm-353"></a><a name="indexterm-354"></a><a name="indexterm-355"></a></p><p>For a detailed description,
see <a href="#gcfgz">The <tt>used</tt> Property</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>utf8only</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>Off</p></td>
<td align="left" valign="top" scope="row"><p>This property indicates whether a file system should reject file names 
 that include characters that are not present in the UTF-8 character
code set. If this property is explicitly set to <tt>off</tt>, the <tt>normalization</tt> 
property must either not be explicitly set or be set to <tt>none</tt>.
The default value for the <tt>utf8only</tt> property is <tt>off</tt>. This property cannot be
changed after the file system is created.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>volsize</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>For volumes, specifies the logical size
of the volume.<a name="indexterm-356"></a><a name="indexterm-357"></a><a name="indexterm-358"></a></p><p>For a detailed description, see <a href="#gcfhk">The <tt>volsize</tt> Property</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>volblocksize</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p>8 Kbytes</p></td>
<td align="left" valign="top" scope="row"><p>For volumes, specifies the
block size of the volume. The block size cannot be changed once the
volume has been written, so set the block size at volume creation time.
The default block size for volumes is 8 Kbytes. Any power of 2
from 512 bytes to 128 Kbytes is valid.<a name="indexterm-359"></a><a name="indexterm-360"></a><a name="indexterm-361"></a></p><p>This property can also be
referred to by its shortened column name, <tt>volblock</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>vscan</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>Off</p></td>
<td align="left" valign="top" scope="row"><p>Controls whether regular files should
be scanned for viruses when a file is opened and closed. In addition
to enabling this property, a virus scanning service must also be enabled for
virus scanning to occur. The default value is <tt>off</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>zoned</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Indicates whether this dataset
has been added to a non-global zone. If this property is set, then
the mount point is not honored in the global zone, and ZFS cannot
mount such a file system when requested. When a zone is first installed,
this property is set for any added file systems.<a name="indexterm-362"></a><a name="indexterm-363"></a><a name="indexterm-364"></a></p><p>For more information about
using ZFS with zones installed, see <a href="gayov.html">Using ZFS on a Solaris System With Zones Installed</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>xattr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Boolean</p></td>
<td align="left" valign="top" scope="row"><p><tt>on</tt></p></td>
<td align="left" valign="top" scope="row"><p>Indicates whether extended attributes are enabled
or disabled for this file system. The default value is <tt>on</tt>.<a name="indexterm-365"></a><a name="indexterm-366"></a><a name="indexterm-367"></a></p></td>
</tr>
</table>

<a name="gazsy"></a><h4>ZFS Read-Only Native Properties</h4>
<p>Read-only native properties are properties that can be retrieved but cannot be set.
Read-only native properties are not inherited. Some native properties are specific to a
particular type of dataset. In such cases, the particular dataset type is mentioned
in the description in <a href="#gcfgr">Table&nbsp;5-1</a>.<a name="indexterm-368"></a><a name="indexterm-369"></a></p><p>The read-only native properties are listed here and are described in <a href="#gcfgr">Table&nbsp;5-1</a>.</p>
<ul><li><p><tt>available</tt></p></li>
<li><p><tt>creation</tt> </p></li>
<li><p><tt>mounted</tt></p></li>
<li><p><tt>origin</tt></p></li>
<li><p><tt>compressratio</tt></p></li>
<li><p><tt>referenced</tt> </p></li>
<li><p><tt>type</tt></p></li>
<li><p><tt>used</tt></p><p>For detailed information, see <a href="#gcfgz">The <tt>used</tt> Property</a>.</p></li></ul>
<p>For more information on space accounting, including the <tt>used</tt>, <tt>referenced</tt>, and <tt>available</tt>
properties, see <a href="gbchp.html">ZFS Space Accounting</a>.</p>

<a name="gcfgz"></a><h5>The <tt>used</tt> Property</h5>
<p>The amount of space consumed by this dataset and all its descendents. This
value is checked against the dataset's quota and reservation. The space used does
not include the dataset's reservation, but does consider the reservation of any descendent
datasets. The amount of space that a dataset consumes from its parent, as
well as the amount of space that is freed if the dataset
is recursively destroyed, is the greater of its space used and its reservation.<a name="indexterm-370"></a><a name="indexterm-371"></a><a name="indexterm-372"></a></p><p>When snapshots are created, their space is initially shared between the snapshot and
the file system, and possibly with previous snapshots. As the file system changes,
space that was previously shared becomes unique to the snapshot, and counted in
the snapshot's space used. Additionally, deleting snapshots can increase the amount of space
unique to (and used by) other snapshots. For more information about snapshots and
space issues, see <a href="gbchp.html#gayra">Out of Space Behavior</a>.</p><p>The amount of space used, available, or referenced does not take into account
pending changes. Pending changes are generally accounted for within a few seconds. Committing
a change to a disk using <tt>fsync(3c)</tt> or <tt>O_SYNC</tt> does not necessarily
guarantee that the space usage information will be updated immediately.</p>

<a name="gazsd"></a><h4>Settable ZFS Native Properties</h4>
<p>Settable native properties are properties whose values can be both retrieved and set.
Settable native properties are set by using the <tt>zfs set</tt> command, as described in
<a href="gayns.html#gazsp">Setting ZFS Properties</a> or by using the <tt>zfs create</tt> command as described in <a href="gamnq.html#gazsf">Creating a ZFS File System</a>. With the
exceptions of quotas and reservations, settable native properties are inherited. For more information about
quotas and reservations, see <a href="gazvb.html">ZFS Quotas and Reservations</a>.<a name="indexterm-373"></a><a name="indexterm-374"></a></p><p>Some settable native properties are specific to a particular type of dataset. In
such cases, the particular dataset type is mentioned in the description  in
<a href="#gcfgr">Table&nbsp;5-1</a>. If not specifically mentioned, a property applies to all dataset types: file
systems, volumes, clones, and snapshots.</p><p>The settable properties are listed here and are described in <a href="#gcfgr">Table&nbsp;5-1</a>.</p>
<ul><li><p><tt>aclinherit</tt></p><p>For a detailed description, see <a href="gbacb.html#gbaaz">ACL Property Modes</a>.</p></li>
<li><p><tt>aclmode</tt></p><p>For a detailed description, see <a href="gbacb.html#gbaaz">ACL Property Modes</a>.</p></li>
<li><p><tt>atime</tt></p></li>
<li><p><tt>canmount</tt></p></li>
<li><p><tt>casesensitivity</tt></p></li>
<li><p><tt>checksum</tt></p></li>
<li><p><tt>compression</tt></p></li>
<li><p><tt>copies</tt></p></li>
<li><p><tt>devices</tt></p></li>
<li><p><tt>exec</tt></p></li>
<li><p><tt>mountpoint</tt> </p></li>
<li><p><tt>nbmand</tt></p></li>
<li><p><tt>normalization</tt></p></li>
<li><p><tt>quota</tt></p></li>
<li><p><tt>readonly</tt></p></li>
<li><p><tt>recordsize</tt></p><p>For a detailed description, see <a href="#gcfgv">The <tt>recordsize</tt> Property</a>.</p></li>
<li><p><tt>refquota</tt></p></li>
<li><p><tt>refreservation</tt></p></li>
<li><p><tt>reservation</tt></p></li>
<li><p><tt>sharenfs</tt></p></li>
<li><p><tt>sharesmb</tt></p></li>
<li><p><tt>setuid</tt></p></li>
<li><p><tt>snapdir</tt></p></li>
<li><p><tt>vscan</tt></p></li>
<li><p><tt>utf8only</tt></p></li>
<li><p><tt>volsize</tt></p><p>For a detailed description, see <a href="#gcfhk">The <tt>volsize</tt> Property</a>.</p></li>
<li><p><tt>volblocksize</tt></p></li>
<li><p><tt>zoned</tt></p></li></ul>


<a name="gdrcf"></a><h5>The <tt>canmount</tt> Property</h5>
<p>If this property is set to no, the file system cannot be
mounted by using the <tt>zfs mount</tt> or <tt>zfs mount</tt> <tt>-a</tt> commands. This property is similar to
setting the <tt>mountpoint</tt> property to <tt>none</tt>, except that the dataset still has a
normal <tt>mountpoint</tt>  property that can be inherited. For example, you can set
this property to no, establish inheritable properties for descendent file systems, but the
file system itself is never mounted nor it is accessible to users. In
this case, the parent file system with this property set to no is
serving as a <b>container</b> so that you can set attributes on the container,
but the container itself is never accessible.<a name="indexterm-375"></a><a name="indexterm-376"></a><a name="indexterm-377"></a></p><p>In the following example, <tt>userpool</tt> is created and the <tt>canmount</tt> property is set
to off. Mount points for descendent user file systems are set to one
common mount point, <tt>/export/home</tt>. Properties that are set on the parent file
system are inherited by descendent file systems, but the parent file system itself
is never mounted.</p><pre># <tt><b>zpool create userpool mirror c0t5d0 c1t6d0</b></tt>
# <tt><b>zfs set canmount=off userpool</b></tt>
# <tt><b>zfs set mountpoint=/export/home userpool</b></tt>
# <tt><b>zfs set compression=on userpool</b></tt>
# <tt><b>zfs create userpool/user1</b></tt>
# <tt><b>zfs create userpool/user2</b></tt>
# <tt><b>zfs list -r userpool</b></tt>
NAME             USED  AVAIL  REFER  MOUNTPOINT
userpool         140K  8.24G  24.5K  /export/home
userpool/user1  24.5K  8.24G  24.5K  /export/home/user1
userpool/user2  24.5K  8.24G  24.5K  /export/home/user2</pre>

<a name="gftgr"></a><h5>The <tt>casesensitivity</tt> Property</h5>
<p>This property indicates whether the file name matching algorithm used by the file
system should be <tt>casesensitive</tt>, <tt>caseinsensitive</tt>, or allow a combination of both styles
of matching (<tt>mixed</tt>).</p><p>When a case-insensitive matching request is made of a <b>mixed</b> sensitivity file system,
the behavior is generally the same as would  be expected of
a purely case-insensitive file system. The difference is that a mixed sensitivity file system
might contain directories with multiple names that are unique from a case-sensitive perspective,
but not unique from the case-insensitive perspective.</p><p>For example, a directory might contain files <tt>foo</tt>,  <tt>Foo</tt>, and <tt>FOO</tt>. If
a request is made to case-insensitively match any of the possible forms of
<tt>foo</tt>, (for example <tt>foo</tt>, <tt>FOO</tt>,  <tt>FoO</tt>, <tt>fOo</tt>, and so on) one of
the three existing files is chosen as the match by the matching algorithm.
Exactly which file the algorithm chooses as a match is not guaranteed, but
what is  guaranteed is that the same file is chosen as a
match for any of the forms of <tt>foo</tt>. The file chosen as a
case-insensitive match for <tt>foo</tt>, <tt>FOO</tt>, <tt>foO</tt>, <tt>Foo</tt>, and so on, is always the
same, so long as the directory remains unchanged.</p><p>The <tt>utf8only</tt>, <tt>normalization</tt>, and <tt>casesensitivity</tt> properties are also new permissions that can
be assigned to non-privileged users by using ZFS delegated administration. For more information, see
<a href="gfkco.html">Delegating ZFS Permissions</a>.</p>

<a name="gcfgv"></a><h5>The <tt>recordsize</tt> Property</h5>
<p>Specifies a suggested block size for files in the file system.<a name="indexterm-378"></a><a name="indexterm-379"></a><a name="indexterm-380"></a></p><p>This property is designed solely for use with database workloads that access files
in fixed-size records. ZFS automatically adjust block sizes according to internal algorithms optimized
for typical access patterns. For databases that create very large files but access
the files in small random chunks, these algorithms may be suboptimal. Specifying a
<tt>recordsize</tt> greater than or equal to the record size of the database can
result in significant performance gains. Use of this property for general purpose file
systems is strongly discouraged, and may adversely affect performance. The size specified must be
a power of two greater than or equal to 512 and less
than or equal to 128 Kbytes. Changing the file system's <tt>recordsize</tt> only affects files
created afterward. Existing files are unaffected.</p><p>This property can also be referred to by its shortened column name,
<tt>recsize</tt>.</p>

<a name="gfwpk"></a><h5>The <tt>sharesmb</tt> Property</h5>
<p>This property enabled sharing of ZFS file systems with the Solaris CIFS service,
and identifies options to be used. </p><p>Because SMB shares requires a resource  name, a unique resource name is
constructed from the dataset name. The constructed name is a copy of
the dataset  name except that the characters in the dataset name, which
would be illegal in the resource name, are replaced with underscore (_) characters. A
pseudo property <i>name</i> is also       
   supported that allows you to replace the dataset name with
a specific name. The specific name is then used to replace the prefix
dataset in  the case of  inheritance.<a name="indexterm-381"></a><a name="indexterm-382"></a></p><p>For example,  if the dataset, <tt>data/home/john</tt>, is set to <tt>name=john</tt>, then <tt> data/home/john</tt>
has a resource name of <tt>john</tt>. If a child dataset of <tt>data/home/john/backups</tt> exists,
 it  has a resource name of <tt>john_backups</tt>.  When the <tt>sharesmb</tt>
property is changed for a dataset, the dataset and any children inheriting the
property are  re-shared with the new options, only if the property was
previously  set  to <tt>off</tt>, or if they were shared before the
property was changed. If the new property is set  to <tt>off</tt>, the
file systems are unshared.</p><p>For examples of using the <tt>sharesmb</tt> property, see <a href="gaynd.html#gfwqv">Sharing ZFS Files in a Solaris CIFS Environment</a>.</p>

<a name="gcfhk"></a><h5>The <tt>volsize</tt> Property</h5>
<p>The logical size of the volume. By default, creating a volume establishes a
reservation for the same amount. Any changes to <tt>volsize</tt> are reflected in an
equivalent change to the reservation. These checks are used to prevent unexpected behavior
for users. A volume that contains less space than it claims is available
can result in undefined behavior or data corruption, depending on how the volume
is used. These effects can also occur when the volume size is changed
while it is in use, particularly when you shrink the size. Extreme care
should be used when adjusting the volume size.<a name="indexterm-383"></a><a name="indexterm-384"></a><a name="indexterm-385"></a></p><p>Though not recommended, you can create a sparse volume by specifying the <tt>-s</tt>
flag to <tt>zfs create -V</tt>, or by changing the reservation once the volume has been
created. A <b>sparse volume</b> is defined as a volume where the reservation is not
equal to the volume size.  For a sparse volume, changes to <tt>volsize</tt>
are not reflected in the reservation.</p><p>For more information about using volumes, see <a href="gaypf.html">ZFS Volumes</a>.</p>

<a name="gdrcw"></a><h4>ZFS User Properties</h4>
<p>In addition to the standard native properties, ZFS supports arbitrary user properties. User
properties have no effect on ZFS behavior, but you can use them to
annotate datasets with information that is meaningful in your environment.</p><p>User property names must conform to the following characteristics:<a name="indexterm-386"></a><a name="indexterm-387"></a><a name="indexterm-388"></a></p>
<ul><li><p>Contain a colon (':') character to distinguish them from native properties.</p></li>
<li><p>Contain lowercase letters, numbers, and the following punctuation characters: ':', + ,'.', '_'. </p></li>
<li><p>Maximum user property name is 256 characters.</p></li></ul>
<p>The expected convention is that the property name is divided into the following
two components but this namespace is not enforced by ZFS:</p><pre><i>module:property</i></pre><p>When making programmatic use of user properties, use a reversed DNS domain name
for the <i>module</i> component of property names to reduce the chance that two
independently-developed packages will use the same property name for different purposes. Property names
that begin with "com.sun." are reserved for use by Sun Microsystems.</p><p>The values of user properties have the following characteristics:</p>
<ul><li><p>Arbitrary strings that are always inherited and are never validated.</p></li>
<li><p>Maximum user property value is 1024 characters.</p></li></ul>
<p>For example:</p><pre># <tt><b>zfs set dept:users=finance userpool/user1</b></tt>
# <tt><b>zfs set dept:users=general userpool/user2</b></tt>
# <tt><b>zfs set dept:users=itops userpool/user3</b></tt></pre><p>All of the commands that operate on properties, such as <tt>zfs list</tt>, <tt>zfs get</tt>,
<tt>zfs set</tt>, and so on, can be used to manipulate both native properties and
user properties.</p><p>For example:</p><pre><tt><b>zfs get -r dept:users userpool</b></tt>
NAME            PROPERTY    VALUE           SOURCE
userpool        dept:users  all             local
userpool/user1  dept:users  finance         local
userpool/user2  dept:users  general         local
userpool/user3  dept:users  itops           local</pre><p>To clear a user property, use the <tt>zfs inherit</tt> command.  For example:</p><pre># <tt><b>zfs inherit -r dept:users userpool</b></tt></pre><p>If the property is not defined in any parent dataset, it is
removed entirely.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gamnq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gazsu.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

