<?Pub UDT _bookmark _target?><?Pub UDT __target_1 _target?><?Pub UDT registeredtm trademark?><?Pub EntList bull rArr sect?><?Pub CX solbook(book(title()bookinfo()chapter(5)?><chapter id="clientconcept-15236"><?Pub Tag atict:info tracking="off" ref="0"?><?Pub Tag
atict:user user="sk23612" fullname="Juanita Heieck"?><?Pub Tag atict:user
user="jonj" fullname="Juanita Heieck"?><?Pub Tag atict:user user="kathys"
fullname="Kathy Slattery"?><?Pub Tag atict:user user="cathleen" fullname=""?><?Pub Tag
atict:user user="eb151805" fullname="Juanita Heieck"?><?Pub Tag atict:user
user="jh118764" fullname="Juanita Heieck"?><?Pub Tag atict:user user="lh136763"
fullname="Laura Hartman"?><title>Managing Client-Server Support (Overview)</title><highlights><para>This chapter describes the management of server and client support on
a network. Overview information is provided about each system configuration
(referred to as a <emphasis>system type</emphasis>) that is supported in the
Solaris Operating System. This chapter also includes guidelines for selecting
the appropriate system type to meet your needs. </para><note><para>Information in this chapter that pertains only to a specific Solaris
release, or was introduced in a specific Solaris release, is labeled accordingly.</para>
</note><itemizedlist><para>This is a list of the overview information in this chapter.</para><listitem><para><olink targetptr="gbgqv" remap="internal">What's New in Managing Client-Server
Support?</olink></para>
</listitem><listitem><para><olink targetptr="clientconcept-7" remap="internal">Where to Find Client-Server
Tasks</olink></para>
</listitem><listitem><para><olink targetptr="clientconcept-33212" remap="internal">What Are Servers, Clients,
and Appliances?</olink></para>
</listitem><listitem><para><olink targetptr="clientconcept-35340" remap="internal">What Does Client Support
Mean?</olink></para>
</listitem><listitem><para><olink targetptr="clientconcept-25948" remap="internal">Overview of System
Types</olink></para>
</listitem><listitem><para><olink targetptr="clientconcept-22" remap="internal">Diskless Client Management
Overview</olink></para>
</listitem>
</itemizedlist><para>For step-by-step instructions about how to manage diskless client support,
see <olink targetptr="clientsetup-1" remap="internal">Chapter&nbsp;7, Managing Diskless Clients
(Tasks)</olink>.</para>
</highlights><sect1 id="gbgqv"><title>What's New in Managing Client-Server Support?</title><para>This section describes new or changed diskless client features in this
Solaris release. </para><sect2 id="ggqwe"><title>Support for Specifying Platform by Using bootadm <option>p</option> Command</title><para>A new <option>p</option> <replaceable>platform</replaceable> argument
has been added to the <command>bootadm</command> command. This option enables
you to specify the platform or machine hardware class of a client system in
situations where the client platform differs from the server platform, for
example when administering diskless clients.</para><para>For more information, see the <olink targetdoc="group-refman" targetptr="bootadm-1m" remap="external"><citerefentry><refentrytitle>bootadm</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man page.</para>
</sect2><sect2 id="gcwxd"><title><literal>nfs4_domain</literal> Keyword Impacts Diskless
Client Boot</title><para> The <command>set_nfs4_domain</command> script that was delivered in
the Solaris 10 OS is no longer used to set the NFSv4 domain. To set the NVSv4
domain, add the new <literal>nfs4_domain</literal> keyword to the diskless
client's <filename>sysidcfg</filename> file. Note that if the <literal>nfs4_domain</literal> keyword exists in the <command>sysidcfg</command> file, the first
boot of a diskless client sets the domain accordingly. </para>
</sect2><sect2 id="fxbjj" arch="x86"><title>Diskless Client Changes in the GRUB Boot
Environment</title><para> An
extension has been made to GRUB to enable <literal>kernel$</literal>, <literal>module$</literal>, and <literal>$ISADIR</literal> usage in the <filename>menu.lst</filename> file.</para><para>The <command>bootadm</command> command installs a default boot
entry in the <filename>menu.lst</filename> file that is similar to the following:</para><screen remap="wide">kernel$ /platform/i86pc/kernel/$ISADIR/unix
module$ /platform/i86pc/kernel/$ISADIR/unix /platform/i86pc/kernel/$ISADIR/unix -B $ZFS-ROOTFS
module$ /platform/i86pc/$ISADIR/boot_archive</screen><para>The <literal>kernel$</literal> and <literal>module$</literal> keywords are identical to the <filename>kernel</filename> and <filename>module</filename> commands that are used in the GRUB multiboot implementation.
The <literal>$ISADIR</literal> keyword has the added capability to expand
to <literal>amd64</literal> on 64-bit capable hardware. If the x86 based system
is not 64-bit capable, the <literal>$ISADIR</literal> keyword is a null value
(<literal>""</literal>). In this instance, the system boots the 32-bit kernel.</para><note><para>These changes do not prevent you from booting of a newer Solaris kernel
with an older implementation of GRUB. Nor do the changes prevent you from
booting of an older Solaris kernel with a newer implementation of GRUB.</para>
</note><note><para>GRUB based booting is not available on SPARC based systems.</para>
</note><itemizedlist><para>The following feature enhancements are part of the new diskless boot
scheme:</para><listitem><para>The OS server is now capable of serving multiple Solaris releases
simultaneously.</para><para>With the new diskless boot scheme, you can perform
a <command>pxegrub</command> based network boot , where multiple releases
are presented to a client from the GRUB menu.</para>
</listitem><listitem><para>Vendor-specific options are now specified in the boot archive.</para><para>In previous releases, client-specific boot properties, typically defined
in the <filename>bootenv.rc</filename> file, were provided by using vendor-specific
options for the DHCP setup. The total length of the information that was required
frequently exceeded the limit in the DHCP specification. </para><para>With the boot new scheme, this information is part of the boot archive.
The PXE/DHCP server is only required to provide the server IP address, the
boot file, <filename>pxegrub</filename>, and possibly a client-specific menu
file, through Site Option 150. </para>
</listitem>
</itemizedlist>
</sect2><sect2 id="gbxfp" arch="x86"><title>Changes to the <command>smdiskless</command> Command</title><para>The <command>smdiskless</command> command is used to set up diskless
clients. Previously, the <command>smdiskless</command> command set up the
root (<filename>/</filename>) and <filename>/usr</filename> file systems,
then exported these file systems to the client through NFS. To boot the client,
you would additionally need to configure the <filename>/tftpboot</filename> area
manually. This manual step is no longer a requirement for setting up a diskless
client. The <command>smdiskless</command> command now automatically invokes
a script in the <filename>/usr/sadm/lib/wbem/config_tftp</filename> file,
which prepares the <filename>/tftpboot</filename> area for a PXE boot.</para><para>After running the <filename>smdiskless</filename> command, the <filename>/tftpboot/01</filename><replaceable>ethernet-address</replaceable> file is displayed as
a link to <command>pxegrub</command> and the <filename>/tftpboot/menu.lst.01</filename><replaceable>ethernet-address</replaceable> file, which contains the GRUB menu entry. The <replaceable>ethernet-address</replaceable> in this instance is 01, followed by the Ethernet
address of the client network interface. When supplying the Ethernet address
of the client network interface, use uppercase letters and do not include
colons.</para><para>The boot archive of the diskless client is automatically updated during
shutdown. If the client's boot archive is out of date when it is shut down,
you might need to run the following command from the OS server to update the
boot archive:</para><screen># <userinput>bootadm update-archive -f -R /export/root/<replaceable>host-name</replaceable></userinput></screen><para>where <replaceable>host-name</replaceable> is the host name of the client
system.</para><para>For more information, see <olink targetptr="gcbcn" remap="internal">How to Boot the Failsafe
Archive to Forcibly Update a Corrupt Boot Archive</olink> and the <olink targetdoc="refman" targetptr="bootadm-1m" remap="external"><citerefentry><refentrytitle>bootadm</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man page.</para><note><para>This information applies to both SPARC based and x86 based OS
servers that are serving x86 based clients.</para>
</note><para>For more information on setting up and configuring DHCP, see <olink targetdoc="sysadv3" targetptr="chapter3-20" remap="external">Chapter 14, <citetitle remap="chapter">Configuring the DHCP Service (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: IP Services</citetitle></olink>.</para><para>For more information on how to manage diskless clients in the GRUB boot
environment, see <olink targetptr="hbx86boot-68676" remap="internal">Booting
an x86 Based System by Using GRUB (Task Map)</olink>.</para>
</sect2>
</sect1><sect1 id="clientconcept-7"><title>Where to Find Client-Server Tasks</title><para>Use this table to find step-by-step instructions for setting up server
and client support.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="colspec0" colwidth="50*"/><colspec colname="colspec1" colwidth="50*"/><thead><row rowsep="1"><entry><para>Client-Server Services</para>
</entry><entry><para>For More Information</para>
</entry>
</row>
</thead><tbody><row><entry><para>Install or JumpStart clients</para>
</entry><entry><para><olink targetdoc="solinstallnet" remap="external"><citetitle remap="book">Solaris Express Installation Guide: Network-Based Installations</citetitle></olink></para>
</entry>
</row><row><entry><para>Diskless client systems in the Solaris OS</para>
</entry><entry><para><olink targetptr="clientconcept-22" remap="internal">Diskless Client Management Overview</olink> and <olink targetptr="clientsetup-1" remap="internal">Chapter&nbsp;7, Managing Diskless Clients (Tasks)</olink></para>
</entry>
</row><row><entry><para>Diskless client systems in the Solaris 7 OS and earlier Solaris releases</para>
</entry><entry><para><citetitle>Solstice AdminSuite 2.3 Administration Guide</citetitle></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="clientconcept-33212"><title>What Are Servers, Clients, and Appliances?</title><para>Systems on the network can usually be described as one of the system
types in this table.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="colspec0" colwidth="27.67*"/><colspec colname="colspec1" colwidth="72.33*"/><thead><row rowsep="1"><entry><para>System Type</para>
</entry><entry><para>Description</para>
</entry>
</row>
</thead><tbody><row><entry><para>Server</para>
</entry><entry><para>A system that provides services to other systems in its network. There
are file servers, boot servers, web servers, database servers, license servers,
print servers, installation servers, appliance servers, and even servers for
particular applications. This chapter uses the term <emphasis>server</emphasis> to
mean a system that provides boot services and file systems for other systems
on the network.</para>
</entry>
</row><row><entry><para>Client</para>
</entry><entry><para>A system that uses remote services from a server. Some clients have
limited disk storage capacity, or perhaps none at all. Such clients must rely
on remote file systems from a server to function. Diskless systems and appliance
systems are examples of this type of client.</para><para>Other clients might use remote services (such as installation software)
from a server. However, they don't rely on a server to function. A stand-alone
system is a good example of this type of client. A stand-alone system has
its own hard disk that contains the root (<filename>/</filename>), <filename>/usr</filename>, and <filename>/export/home</filename> file systems and swap space.</para>
</entry>
</row><row><entry><para>Appliance</para>
</entry><entry><para>A network appliance such as the <trademark>Sun Ray</trademark> appliance
provides access to applications and the Solaris OS. An appliance gives you
centralized server administration, and no client administration or upgrades.
Sun Ray appliances also provide <emphasis>hot desking</emphasis>. Hot desking
enables you to instantly access your computing session from any appliance
in the server group, exactly where you left off. For more information, see <ulink url="http://www.sun.com/products/sunray" type="text">http://www.sun.com/products/sunray</ulink>.</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="clientconcept-35340"><title>What Does Client Support Mean?</title><itemizedlist><para>Support can include the following:</para><listitem><para>Making a system known to the network (host name and Ethernet
address information)</para>
</listitem><listitem><para>Providing installation services to remotely boot and install
a system</para>
</listitem><listitem><para>Providing Solaris OS services and application services to
a system with limited disk space or no disk space</para>
</listitem>
</itemizedlist>
</sect1><sect1 id="clientconcept-25948"><title>Overview of System Types</title><para><indexterm id="clientconcept-ix866"><primary>system types</primary><secondary>overview</secondary></indexterm>System types are sometimes defined
by how they access the root (<filename>/</filename>) and <filename>/usr</filename> file
systems, including the swap area. For example, stand-alone systems and server
systems mount these file systems from a local disk. Other clients mount the
file systems remotely, relying on servers to provide these services. This
table lists some of the characteristics of each system type. </para><table frame="top" pgwide="1" id="clientconcept-30215"><title>Characteristics
of System Types</title><tgroup cols="6" colsep="0" rowsep="0"><?PubTbl tgroup dispwid="6.00in"?><colspec colname="column1" colwidth="71*"/><colspec colname="column2" colwidth="71*"/><colspec colname="column3" colwidth="74*"/><colspec colname="column4" colwidth="72*"/><colspec colname="column5" colwidth="72*"/><colspec colname="column6" colwidth="69*"/><thead><row rowsep="1"><entry><para>System Type</para>
</entry><entry><para>Local File Systems</para>
</entry><entry><para>Local Swap Space?</para>
</entry><entry><para>Remote File Systems</para>
</entry><entry><para>Network Use</para>
</entry><entry><para>Relative Performance</para>
</entry>
</row>
</thead><tbody><row><entry><para>Server</para>
</entry><entry><para>root (<filename>/</filename>)</para><para><filename>/usr</filename></para><para><filename>/home</filename></para><para><filename>/opt</filename></para><para><filename>/export/home</filename></para><para></para>
</entry><entry><para>Available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>High</para>
</entry><entry><para>High</para>
</entry>
</row><row><entry><para>Stand-alone system</para>
</entry><entry><para>root (<filename>/</filename>)</para><para><filename>/usr</filename></para><para><filename>/export/home</filename></para>
</entry><entry><para>Available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Low</para>
</entry><entry><para>High</para>
</entry>
</row><row><entry><para>OS Server</para>
</entry><entry><para><filename>/export/root</filename></para>
</entry><entry>
</entry><entry>
</entry><entry>
</entry><entry>
</entry>
</row><row><entry><para>Diskless client</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>root (<filename>/</filename>)</para><para>swap</para><para><filename>/usr</filename></para><para><filename>/home</filename></para>
</entry><entry><para>High</para><para></para><para></para><para></para><para></para><para></para><para></para><para>High</para>
</entry><entry><para>Low</para><para></para><para></para><para></para><para></para><para></para><para></para><para>Low</para>
</entry>
</row><row><entry><para>Appliance</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>High</para>
</entry><entry><para>High</para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect2 id="clientconcept-1"><title>Description of a Server</title><itemizedlist><para>A server system contains the following file systems:</para><listitem><para>The <literal>root</literal> (<filename>/</filename>) and <filename>/usr</filename> file systems, plus swap space</para>
</listitem><listitem><para>The <filename>/export</filename> and <filename>/export/home</filename> file
systems, which support client systems and provide home directories for users</para>
</listitem><listitem><para>The <filename>/opt</filename> directory or file system for
storing application software</para>
</listitem>
</itemizedlist><itemizedlist><para>Servers can also contain the following software to support other systems:</para><listitem><para>Solaris OS services for diskless systems that are running
a different release</para><note><para>OS client&hyphen;server configurations, where only one system is running
a Solaris release that implements the new boot architecture can result in
major incompatibilities. It is therefore recommended that you install or upgrade
diskless systems to the same release as the server OS before adding diskless
client support. New boot (GRUB) was introduced in the Solaris 10 1/06 release
on the x86 platform and in the Solaris 10 10/08 release on the SPARC platform.</para>
</note>
</listitem><listitem><para>Clients that use a different platform than the server</para>
</listitem><listitem><para>Solaris CD image software and boot software for networked
systems to perform remote installations</para>
</listitem><listitem><para><trademark>JumpStart</trademark> directory for networked systems
to perform custom JumpStart installations</para>
</listitem>
</itemizedlist>
</sect2><sect2 id="clientconcept-32325"><title>Stand-Alone Systems</title><para><indexterm id="clientconcept-ix869"><primary>system types</primary><secondary>stand-alone system</secondary></indexterm><indexterm id="clientconcept-ix870"><primary>stand-alone systems</primary><secondary>definition</secondary></indexterm>A <emphasis>networked stand-alone system</emphasis> can
share information with other systems in the network. However, it can continue
to function if detached from the network.</para><para>A stand-alone system can function autonomously because it has its own
hard disk that contains the root (<filename>/</filename>), <filename>/usr</filename>,
and <filename>/export/home</filename> file systems and swap space. Thus, the
stand-alone system has local access to OS software, executables, virtual memory
space, and user-created files.</para><note><para>A stand-alone system requires sufficient disk space to hold its
necessary file systems.</para>
</note><para>A <emphasis>non-networked stand-alone system</emphasis> is a stand-alone
system with all the characteristics just listed, except it is not connected
to a network.</para>
</sect2><sect2 id="clientconcept-70168"><title>Diskless Clients</title><para>A <emphasis>diskless client</emphasis> has no disk and depends on a
server for all its software and storage needs. A diskless client remotely
mounts its <filename>root</filename> (<filename>/</filename>), <filename>/usr</filename>,
and <filename>/home</filename> file systems from a server.</para><para>A diskless client generates significant network traffic due to its continual
need to procure OS software and virtual memory space from across the network.
A diskless client cannot operate if it is detached from the network or if
its server malfunctions.</para><para><indexterm><primary>system types</primary><secondary>diskless client</secondary></indexterm><indexterm><primary>diskless clients</primary><secondary>definition</secondary></indexterm>For more overview information about diskless clients, see <olink targetptr="clientconcept-22" remap="internal">Diskless Client Management Overview</olink>. </para>
</sect2><sect2 id="clientconcept-23"><title>Description of an Appliance</title><para><indexterm><primary>system types</primary><secondary>appliance</secondary></indexterm><indexterm><primary>appliances</primary><secondary>definition</secondary></indexterm>An appliance, such as the Sun Ray appliance, is an X display device
that requires no administration. There is no CPU, fan, disk, and very little
memory. An appliance is connected to a Sun display monitor. However, the appliance
user's desktop session is run on a server and displayed back to the user. </para><itemizedlist><para>The X environment is set up automatically for the user and has the following
characteristics:</para><listitem><para>Relies on a server to access other file systems and software
applications</para>
</listitem><listitem><para>Provides centralized software administration and resource
sharing</para>
</listitem><listitem><para>Contains no permanent data, making it a field-replaceable
unit (FRU)</para>
</listitem>
</itemizedlist>
</sect2><sect2 id="clientconcept-17305"><title>Guidelines for Choosing System Types</title><itemizedlist><para><indexterm id="clientconcept-ix872"><primary>system types</primary><secondary>guidelines for choosing</secondary></indexterm>You can determine
which system types are appropriate for your environment by comparing each
system type based on the following characteristics:</para><listitem override="none"><para><emphasis role="strong">Centralized administration</emphasis></para>
</listitem><listitem><para>Can the system be treated as a field-replaceable unit (FRU)?</para><para>This means that a broken system can be quickly replaced with a new system
without any lengthy backup and restore operations and no loss of system data.</para>
</listitem><listitem><para>Does the system need to be backed up?</para><para>Large costs
in terms of time and resources can be associated with backing up a large number
of desktop systems.</para>
</listitem><listitem><para>Can the system's data be modified from a central server?</para>
</listitem><listitem><para>Can the system be installed quickly and easily from a centralized
server without handling the client system's hardware?</para>
</listitem>
</itemizedlist><itemizedlist><listitem override="none"><para><emphasis role="strong">Performance</emphasis></para>
</listitem><listitem><para>Does this configuration perform well in desktop usage?</para>
</listitem><listitem><para>Does the addition of systems on a network affect the performance
of other systems already on the network?</para>
</listitem>
</itemizedlist><para><emphasis role="strong">Disk space usage</emphasis></para><para>How much disk space is required to effectively deploy this configuration?</para><para>This table describes how each system type scores in terms of each characteristic.
A ranking of 1 is most efficient. A ranking of 4 is least efficient.</para><table frame="topbot" id="clientconcept-36009"><title>Comparison of System
Types</title><tgroup cols="4" colsep="0" rowsep="0"><colspec colname="column1" colwidth="132*"/><colspec colname="column2" colwidth="88*"/><colspec colname="column3" colwidth="88*"/><colspec colname="column4" colwidth="88*"/><thead><row rowsep="1"><entry><para>System Type</para>
</entry><entry><para>Centralized  Administration</para>
</entry><entry><para>Performance</para>
</entry><entry><para>Disk Space Usage</para>
</entry>
</row>
</thead><tbody><row><entry><para>Stand-alone system</para>
</entry><entry><para>4</para>
</entry><entry><para>1</para>
</entry><entry><para>4</para>
</entry>
</row><row><entry><para>Diskless client</para>
</entry><entry><para>1</para>
</entry><entry><para>4</para>
</entry><entry><para>1</para>
</entry>
</row><row><entry><para>Appliance</para>
</entry><entry><para>1</para>
</entry><entry><para>1</para>
</entry><entry><para>1</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
</sect1><sect1 id="clientconcept-22"><title>Diskless Client Management Overview</title><para>The following sections and <olink targetptr="clientsetup-1" remap="internal">Chapter&nbsp;7,
Managing Diskless Clients (Tasks)</olink> describe how to manage diskless
client support in the Solaris Operating System (Solaris OS).</para><para>A <emphasis>diskless client</emphasis> is a system that depends on an <emphasis>OS server</emphasis> for its operating system, software, and storage. A diskless
client mounts its <?Pub _nolinebreak?>root (<filename>/</filename>)<?Pub /_nolinebreak?>, <?Pub
_nolinebreak?><filename>/usr</filename><?Pub /_nolinebreak?>, and other file
systems from its OS server. A diskless client has its own CPU and physical
memory and can process data locally. However, a diskless client cannot operate
if it is detached from its network or if its OS server malfunctions. A diskless
client generates significant network traffic because of its continual need
to function across the network. </para><para>Starting with the Solaris 9 release, the diskless client commands, <command>smosservice</command> and <command>smdiskless</command>, enable you to manage
OS services and diskless client support. In the Solaris 8 release, diskless clients
were managed with the <trademark>Solstice</trademark> GUI management tools. </para><sect2 id="clientconcept-28"><title>OS Server and Diskless Client Support
Information</title><caution><para>Attempts to add diskless client support using an OS client-server
configuration where one system implements the new boot architecture, but the
other system does not, can result in major incompatibilities. New boot (GRUB)
was implemented on the x86 platform, starting with the Solaris 10 1/06 release
and on the SPARC platform, starting with the Solaris 10 10/8 release. Note
that adding diskless support on systems that are running a Solaris release
that is more recent than that which is running on the OS server is also an
unsupported configuration. To avoid potential problems, it is recommended
that you install the latest Solaris release before adding diskless client
support.</para>
</caution><itemizedlist><para>The Solaris releases and architecture types that are supported by the <command>smosservice</command> and <command>smdiskless</command> commands include the
following:</para><listitem><para><emphasis role="strong">SPARC based servers:</emphasis> Supported
in the Solaris 8, Solaris 9,  Solaris 10, and
Solaris Express releases</para>
</listitem><listitem><para><emphasis role="strong">SPARC based clients:</emphasis> Supported
in the Solaris 8, Solaris 9,  Solaris 10, and
Solaris Express releases</para>
</listitem><listitem><para><emphasis role="strong">x86 based servers:</emphasis> Supported
in the Solaris 9,  Solaris 10, and Solaris
Express releases</para>
</listitem><listitem><para><emphasis role="strong">x86 based clients:</emphasis> Supported
in the Solaris 9,  Solaris 10, and Solaris
Express releases</para>
</listitem>
</itemizedlist><para>The following table illustrates the x86 OS client-server configurations that
are supported by the <command>smosservice</command> and <command>smdiskless</command> commands.
This information applies to the Solaris 9 and the Solaris 10 FCS (3/05) release.</para><para>If you are running at least the Solaris 10 1/06 release, or
a Solaris Express Community release, it is recommended that you install
or upgrade to the same release before adding diskless client support.</para><table frame="topbot" id="ghzog"><title>x86 OS Client-Server Support</title><tgroup cols="3" colsep="0" rowsep="0"><?PubTbl tgroup dispwid="1000.00px"?><colspec colwidth="16.53*"/><colspec colwidth="16.53*"/><colspec colwidth="15.31*"/><tbody><row><entry>
</entry><entry><para><emphasis role="strong">Diskless Client OS</emphasis></para>
</entry><entry>
</entry>
</row><row><entry><para><emphasis role="strong">Server OS</emphasis></para>
</entry><entry><para><emphasis role="strong">Solaris 10 3/05</emphasis></para>
</entry><entry><para><emphasis role="strong">Solaris 9</emphasis></para>
</entry>
</row><row><entry><para><emphasis role="strong">Solaris 10 3/05</emphasis></para>
</entry><entry><para>Supported</para>
</entry><entry><para>Supported</para>
</entry>
</row><row><entry><para><emphasis role="strong">Solaris 9</emphasis></para>
</entry><entry><para>Not supported</para>
</entry><entry><para>Supported</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table describes the SPARC OS client-server configurations
that are supported by the <command>smosservice</command> and <command>smdiskless</command> commands.
This information applies to the Solaris 8 and Solaris 9 releases, and the
Solaris 10 release, up through the Solaris 10 5/08 OS.</para><para>If you
are running at least the Solaris 10 10/08 release, or a Solaris
Express Community release, it is recommended that you install or upgrade
to the same release before adding diskless client support.</para><table frame="topbot" id="ghzrp"><title>SPARC OS Client-Server Support</title><tgroup cols="4" colsep="0" rowsep="0"><?PubTbl tgroup dispwid="1000.00px"?><colspec colwidth="16.53*"/><colspec colwidth="16.53*"/><colspec colwidth="15.31*"/><colspec colwidth="15.78*"/><tbody><row><entry>
</entry><entry><para><emphasis role="strong">Diskless Client OS</emphasis></para>
</entry><entry>
</entry><entry>
</entry>
</row><row><entry><para><emphasis role="strong">Server OS</emphasis></para>
</entry><entry><para><emphasis role="strong">Solaris 10 3/05 through Solaris 10 5/08</emphasis></para>
</entry><entry><para><emphasis role="strong">Solaris 9</emphasis></para>
</entry><entry><para><emphasis role="strong">Solaris 8</emphasis></para>
</entry>
</row><row><entry><para><emphasis role="strong">Solaris 10 3/05 through Solaris 10 5/08</emphasis></para>
</entry><entry><para>Supported</para>
</entry><entry><para>Supported</para>
</entry><entry><para>Supported</para>
</entry>
</row><row><entry><para><emphasis role="strong">Solaris 9</emphasis></para>
</entry><entry><para>Not supported</para>
</entry><entry><para>Supported</para>
</entry><entry><para>Supported</para>
</entry>
</row><row><entry><para><emphasis role="strong">Solaris 8</emphasis></para>
</entry><entry><para>Not supported</para>
</entry><entry><para>Not supported</para>
</entry><entry><para>Supported</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="clientconcept-41599"><title>Diskless Client Management Features</title><para>You can use the <command>smosservice</command> and <command>smdiskless</command> commands
to add and maintain diskless client support on a network. By using a name
service, you can manage system information in a centralized manner so that
important system information, such as host names, do not have to be duplicated
for every system on the network.</para><itemizedlist><para>You can perform the following tasks with the <command>smosservice</command> and <command>smdiskless</command> commands:</para><listitem><para>Add and modify diskless client support</para>
</listitem><listitem><para>Add and remove OS services</para>
</listitem><listitem><para>Manage diskless client information in the LDAP, NIS, NIS+,
or files name service environment</para>
</listitem>
</itemizedlist><para>If you are performing a GRUB based boot on an x86 system, you need to
manually set up the DHCP configuration. See <olink targetptr="fwaol" remap="internal">How to
Prepare for Adding Diskless Clients in a GRUB Based Boot Environment</olink> for
more information.</para><note><para>You can only use the diskless client commands to set up diskless
client booting. You cannot use these commands to set up other services, such
as remote installation or profile services. Set up remote installation services
by including diskless client specifications in the <filename>sysidcfg</filename> file.
For more information, see <olink targetdoc="solinstalladv" remap="external"><citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para>
</note><sect3 id="clients-2"><title>Working With Diskless Client Commands</title><para>By writing your own shell scripts and using the commands shown in the
following table, you can easily set up and manage your diskless client environment. </para><table frame="topbot" id="chapter-tbl-15"><title>Diskless Client Commands</title><tgroup cols="3" colsep="0" rowsep="0"><?PubTbl tgroup dispwid="4.98in"?><colspec colname="colspec1" colwidth="64.88*"/><colspec colname="colspec2" colwidth="30.60*"/><colspec colname="colspec0" colwidth="54.52*"/><thead><row rowsep="1"><entry><para>Command</para>
</entry><entry><para>Subcommand</para>
</entry><entry><para>Task</para>
</entry>
</row>
</thead><tbody><row><entry><para><command>/usr/sadm/bin/smosservice</command></para>
</entry><entry><para><command>add</command></para>
</entry><entry><para>Add OS services</para>
</entry>
</row><row><entry>
</entry><entry><para><command>delete</command></para>
</entry><entry><para>Delete OS services</para>
</entry>
</row><row><entry>
</entry><entry><para><command>list</command></para>
</entry><entry><para>List OS services</para>
</entry>
</row><row><entry>
</entry><entry><para><command>patch</command></para>
</entry><entry><para>Manage OS service patches</para>
</entry>
</row><row><entry><para><command>/usr/sadm/bin/smdiskless</command></para>
</entry><entry><para><command>add</command></para>
</entry><entry><para>Add a diskless client to an OS server</para>
</entry>
</row><row><entry>
</entry><entry><para><command>delete</command></para>
</entry><entry><para>Delete a diskless client from an OS server</para>
</entry>
</row><row><entry>
</entry><entry><para><command>list</command></para>
</entry><entry><para>List the diskless clients on an OS server</para>
</entry>
</row><row><entry>
</entry><entry><para><command>modify</command></para>
</entry><entry><para>Modify the attributes of a diskless client</para>
</entry>
</row>
</tbody>
</tgroup>
</table><itemizedlist><para>You can obtain help on these commands in two ways:</para><listitem><para>Use the <option>h</option> option when you type the command,
subcommand, and required options, as shown in the following example.</para><screen>% <userinput>/usr/sadm/bin/smdiskless add -p my-password -u my-user-name -- -h</userinput></screen>
</listitem><listitem><para>View the <olink targetdoc="refman" targetptr="smdiskless-1m" remap="external"><citerefentry><refentrytitle>smdiskless</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> and <olink targetdoc="refman" targetptr="smosservice-1m" remap="external"><citerefentry><refentrytitle>smosservice</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man pages.</para>
</listitem>
</itemizedlist>
</sect3><sect3 id="chapter-27"><title>Required RBAC Rights for Diskless Client Management</title><para>You can use the <command>smosservice</command> and <command>smdiskless</command> commands
as superuser. If you are using role-based access control (RBAC), you can use
either a subset of or all of the diskless client commands, according to the
RBAC rights to which they are assigned. The following table lists the RBAC
rights that are required to use the diskless client commands.</para><table frame="topbot" id="chapter-tbl-28"><title>Required RBAC Rights for
Diskless Client Management</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="colspec0" colwidth="26.07*"/><colspec colname="colspec1" colwidth="19.86*"/><colspec colname="colspec2" colwidth="29.10*"/><thead><row rowsep="1"><entry><para>RBAC Right</para>
</entry><entry><para>Command</para>
</entry><entry><para>Task</para>
</entry>
</row>
</thead><tbody><row><?PubTbl row rht="0.99in"?><entry><para>Basic Solaris User, Network Management</para>
</entry><entry><para><command>smosservice list</command></para>
</entry><entry><para>List OS services</para><para></para>
</entry>
</row><row><?PubTbl row rht="1.05in"?><entry><para></para>
</entry><entry><para><command>smosservice patch</command></para>
</entry><entry><para>List OS service patches</para>
</entry>
</row><row><?PubTbl row rht="1.00in"?><entry><para></para>
</entry><entry><para><command>smdiskless list</command></para>
</entry><entry><para>List diskless clients on an OS server</para>
</entry>
</row><row><?PubTbl row rht="0.89in"?><entry><para>Network Management</para>
</entry><entry><para><command>smdiskless add</command></para>
</entry><entry><para>Add diskless clients</para>
</entry>
</row><row><?PubTbl row rht="0.92in"?><entry><para>System Administrator</para>
</entry><entry><para>All commands</para>
</entry><entry><para>All tasks</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect3><sect3 id="clientconcept-5"><title>Adding OS Services</title><para><indexterm id="clientconcept-ix884"><primary>servers</primary><secondary>OS server</secondary></indexterm><indexterm id="clientconcept-ix885"><primary>OS server</primary><secondary>description</secondary></indexterm><indexterm id="clientconcept-ix886"><primary>diskless client management commands</primary><secondary><command>smosservice</command></secondary><tertiary>add OS services</tertiary></indexterm>A Solaris OS server is a server that provides operating system
(OS) services to support diskless client systems. You can add support for
an OS server or convert a stand-alone system to an OS server by using the <command>smosservice</command> command. </para><para>For each platform group and Solaris release that you want to support,
you must add the particular OS service to the OS server. For example, if you
want to support SPARC sun-4u systems running the Solaris Express
release, you must add the Sun-4u/Solaris Express OS services to the OS server. For each diskless client
that you support, you must add the OS service for that client to the OS server.
For example, you would need to add OS services to support SPARC sun-4m systems
or x86 based systems that run the Solaris 10 or Solaris
9 release, because they are different platform groups.</para><para>You must have access to the appropriate Solaris software CD or disk
image to add OS services.</para>
</sect3><sect3 id="clientconcept-12"><title>Adding OS Services When the OS Server
Has Been Patched</title><para>When adding OS services to an OS server, you might see an error message
stating that you have inconsistent versions of the OS running on the server
and the OS that you are trying to add. This error message occurs when the
installed version of the OS has packages that were previously patched, and
the OS services being added do not have those packages patched, because the
patches have been integrated into the packages.</para><para>For example, you might have a server that is running the current Solaris
release or the Solaris 10 release. You might also have additional OS services
loaded on this server, including the Solaris 9 SPARC sun-4m OS services that
have been patched. If you try to add the Solaris 8 SPARC sun-4u OS services
from a CD-ROM to this server, you could get the following error message:</para><screen>Error: inconsistent revision, installed package appears to have been 
patched resulting in it being different than the package on your media. 
You will need to backout all patches that patch this package before 
retrying the add OS service option.</screen>
</sect3>
</sect2><sect2 id="chapter-29"><title>Disk Space Requirements for OS Servers</title><para>Before you set up your diskless client environment, ensure that you
have the required disk space available for each diskless client directory.</para><para>In previous Solaris releases, you were prompted about diskless client
support during the installation process. Starting with the Solaris 9 release,
you must manually allocate an <filename>/export</filename> file system either
during installation or create it after installation. See the following table
for specific disk space requirements.</para><table frame="topbot" id="euxcz"><title>Disk Space Recommendations for Solaris
OS Servers and Diskless
Clients</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="33*"/><colspec colwidth="33*"/><colspec colwidth="33*"/><thead><row rowsep="1"><entry><para><emphasis role="strong">Server OS/Architecture Type</emphasis></para>
</entry><entry><para><emphasis role="strong">Directory</emphasis></para>
</entry><entry><para><emphasis role="strong">Required Disk Space</emphasis></para>
</entry>
</row>
</thead><tbody><row><entry><para>Solaris Express and Solaris 10 SPARC based OS server</para>
</entry><entry><para><filename>/export</filename></para>
</entry><entry><para>5 to 6.8 Gbytes</para>
</entry>
</row><row><entry><para>Solaris Express and Solaris 10 x86 based OS server</para>
</entry><entry><para><filename>/export</filename></para>
</entry><entry><para>5 to 6.8 Gbytes</para>
</entry>
</row><row><entry><para>Solaris Express and Solaris 10 SPARC based diskless
client</para>
</entry><entry><para><filename>/export</filename></para>
</entry><entry><para>Reserve 200 to 300 Mbytes per diskless client.</para>
</entry>
</row><row><entry><para>Solaris Express and Solaris 10 x86 based diskless
client</para>
</entry><entry><para><filename>/export</filename></para>
</entry><entry><para>Reserve 200 to 300 Mbytes per diskless client.</para>
</entry>
</row>
</tbody>
</tgroup>
</table><note><para>Disk space
recommendations can vary, depending on the Solaris release that is installed. For specific information about the disk space recommendations in the
current Solaris release, see <olink targetdoc="solinstallpbiu" targetptr="esimo" remap="external"><citetitle remap="section">Disk Space Recommendations for Software Groups</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para>
</note>
</sect2>
</sect1>
</chapter><?Pub *0000048617 0?>